import{O as u,P as b,r as t,j as e,Q as f,B as m}from"./index-da830129.js";const y=()=>{const{data:s,isLoading:v,isError:g}=u(),[h]=b(),[n,i]=t.useState(!1),[a,o]=t.useState({name:"",email:"",mobile:"",address:"",price:"",available:"",hero:""});t.useEffect(()=>{s&&n&&o({name:s.name||"",email:s.email||"",mobile:s.mobile||"",address:s.address||"",price:s.price||"",available:s.available||"",hero:s.hero||null})},[s,n]);const r=l=>{const{name:c,value:d}=l.target;o(j=>({...j,[c]:d}))},p=l=>{const c=l.target.files[0];o(d=>({...d,hero:c}))},x=async()=>{try{const l=new FormData;l.append("name",a.name),l.append("email",a.email),l.append("mobile",a.mobile),l.append("address",a.address),l.append("price",a.price),l.append("available",a.available),a.hero&&l.append("hero",a.hero),await h(l),i(!1),m.success("Profile updated successfully!")}catch(l){console.error("Error updating profile:",l),m.error("Failed to update profile.")}};return e.jsxs("div",{className:"container p-4",children:[!s.isActive&&e.jsx("div",{className:"alert alert-danger text-center",children:e.jsx("h3",{children:"Your account has been deactivated."})}),e.jsxs("div",{className:"card shadow-lg",children:[e.jsx("div",{className:"card-header bg-dark text-white text-center",children:e.jsx("h4",{children:"Professional Profile"})}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-4 col-12 text-center",children:e.jsx("img",{src:(s==null?void 0:s.hero)||"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSi9hSBe5Zkrz0adu31yTLrGcyYS6T9FppiEg&s",alt:"Profile",className:"rounded-circle shadow",width:200,height:200})}),e.jsx("div",{className:"col-md-8 col-12",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",s==null?void 0:s.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",s==null?void 0:s.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Mobile:"})," ",s==null?void 0:s.mobile]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Address:"})," ",s==null?void 0:s.address]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Price:"})," ",s==null?void 0:s.price]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Available:"})," ",s==null?void 0:s.available]}),s.isActive&&e.jsx("button",{className:"btn btn-primary w-100",onClick:()=>i(!0),children:"Update Profile"})]})})]})]}),n&&e.jsx("div",{className:"modal d-block",tabIndex:"-1",role:"dialog",children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Update Profile"}),e.jsx("button",{type:"button",className:"close",onClick:()=>i(!1),"aria-label":"Close",children:e.jsx("span",{"aria-hidden":"true",children:"Ã—"})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name"}),e.jsx("input",{type:"text",className:"form-control",name:"name",value:a.name,onChange:r})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email"}),e.jsx("input",{type:"email",className:"form-control",name:"email",value:a.email,onChange:r})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Mobile"}),e.jsx("input",{type:"text",className:"form-control",name:"mobile",value:a.mobile,onChange:r})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Address"}),e.jsx("input",{type:"text",className:"form-control",name:"address",value:a.address,onChange:r})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Price"}),e.jsx("input",{type:"number",className:"form-control",name:"price",value:a.price,onChange:r})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Available"}),e.jsx("input",{type:"text",className:"form-control",name:"available",value:a.available,onChange:r})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Hero (Profile Image)"}),e.jsx("input",{type:"file",className:"form-control",name:"hero",onChange:p})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>i(!1),children:"Close"}),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:x,children:"Save Changes"})]})]})})}),e.jsx(f,{})]})};export{y as default};
