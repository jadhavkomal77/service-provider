import{K as h,M as u,r as o,j as e}from"./index-da830129.js";import{u as x,c as p,a as d}from"./formik.esm-4518efd1.js";const f=()=>{const{data:a,isLoading:n}=h(),[m]=u(),[t,i]=o.useState(!1),s=x({initialValues:{name:"",email:"",mobile:"",address:"",hero:""},validationSchema:p({name:d().required("Name is required"),email:d().email("Invalid email address").required("Email is required"),mobile:d().required("Mobile number is required"),address:d().required("Address is required")}),onSubmit:async l=>{const r=new FormData;r.append("name",l.name),r.append("email",l.email),r.append("mobile",l.mobile),r.append("address",l.address),l.hero&&r.append("hero",l.hero),await m({formData:r,_id:a._id}),i(!1)}});o.useEffect(()=>{a&&s.setValues({name:a.name||"",email:a.email||"",mobile:a.mobile||"",address:a.address||"",hero:a.hero||""})},[a]);const c=l=>{const r=l.target.files[0];r&&s.setFieldValue("hero",r)};return n?e.jsx("div",{children:"Loading..."}):e.jsxs("div",{className:"container my-5",children:[e.jsxs("div",{className:"card shadow-lg border-0 rounded",children:[e.jsx("div",{className:"card-header bg-primary text-white text-center py-4",children:e.jsx("h2",{className:"fw-bold mb-0",children:"Customer Profile"})}),e.jsx("div",{className:"card-body p-4",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-4 text-center",children:e.jsx("img",{src:(a==null?void 0:a.hero)||"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSi9hSBe5Zkrz0adu31yTLrGcyYS6T9FppiEg&s",alt:"Profile",className:"rounded-circle shadow",width:200,height:200})}),e.jsxs("div",{className:"col-md-8",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",a==null?void 0:a.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",a==null?void 0:a.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Mobile:"})," ",a==null?void 0:a.mobile]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Address:"})," ",a==null?void 0:a.address]})]})]})}),e.jsx("div",{className:"card-footer text-center bg-light py-3",children:e.jsx("button",{onClick:()=>i(!0),className:"btn btn-primary px-5 py-2",children:"Update Profile"})})]}),t&&e.jsx("div",{className:"modal fade show",style:{display:"block"},"aria-modal":"true",role:"dialog",children:e.jsx("div",{className:"modal-dialog",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Edit Profile"}),e.jsx("button",{type:"button",className:"btn-close",onClick:()=>i(!1)})]}),e.jsxs("form",{onSubmit:s.handleSubmit,children:[e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:"Name"}),e.jsx("input",{type:"text",id:"name",name:"name",className:"form-control",value:s.values.name,onChange:s.handleChange,onBlur:s.handleBlur}),s.touched.name&&s.errors.name&&e.jsx("div",{className:"text-danger",children:s.errors.name})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",className:"form-control",value:s.values.email,onChange:s.handleChange,onBlur:s.handleBlur}),s.touched.email&&s.errors.email&&e.jsx("div",{className:"text-danger",children:s.errors.email})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"mobile",children:"Mobile"}),e.jsx("input",{type:"text",id:"mobile",name:"mobile",className:"form-control",value:s.values.mobile,onChange:s.handleChange,onBlur:s.handleBlur}),s.touched.mobile&&s.errors.mobile&&e.jsx("div",{className:"text-danger",children:s.errors.mobile})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"address",children:"Address"}),e.jsx("input",{type:"text",id:"address",name:"address",className:"form-control",value:s.values.address,onChange:s.handleChange,onBlur:s.handleBlur}),s.touched.address&&s.errors.address&&e.jsx("div",{className:"text-danger",children:s.errors.address})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"hero",children:"Profile Image"}),e.jsx("input",{type:"file",id:"hero",name:"hero",className:"form-control",onChange:c})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>i(!1),children:"Close"}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})]})]})]})})})]})};export{f as default};
